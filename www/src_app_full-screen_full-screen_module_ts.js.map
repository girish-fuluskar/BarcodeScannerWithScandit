{"version":3,"file":"src_app_full-screen_full-screen_module_ts.js","mappings":"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","sources":["./src/app/full-screen/full-screen-routing.module.ts","./src/app/full-screen/full-screen.module.ts","./src/app/full-screen/full-screen.page.ts","./src/app/full-screen/full-screen.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { FullScreenPage } from './full-screen.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FullScreenPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FullScreenPageRoutingModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { FullScreenPageRoutingModule } from './full-screen-routing.module';\nimport { FullScreenPage } from './full-screen.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FullScreenPageRoutingModule\n  ],\n  declarations: [FullScreenPage]\n})\nexport class FullScreenPageModule {}\n","import { AfterViewInit, Component, ElementRef, OnDestroy, ViewChild } from '@angular/core';\nimport { AlertController, ViewDidEnter, ViewWillLeave } from '@ionic/angular';\nimport { environment } from 'src/environments/environment';\n\ndeclare var Scandit;\n\n@Component({\n  selector: 'app-full-screen',\n  templateUrl: './full-screen.page.html',\n  styleUrls: ['./full-screen.page.scss'],\n})\nexport class FullScreenPage implements AfterViewInit, ViewDidEnter, ViewWillLeave, OnDestroy {\n  private context = Scandit.DataCaptureContext.forLicenseKey(environment.scanditLicenseKey);\n  private camera = Scandit.Camera.default;\n\n  private settings = new Scandit.BarcodeCaptureSettings();\n  private barcodeCapture = Scandit.BarcodeCapture.forContext(this.context, this.settings);\n\n  private captureView = Scandit.DataCaptureView.forContext(this.context);\n  @ViewChild('captureView') captureViewElement: ElementRef<HTMLDivElement>;\n  private overlay = Scandit.BarcodeCaptureOverlay.withBarcodeCaptureForView(this.barcodeCapture, this.captureView);\n\n  public isCaptureViewConnected = false;\n\n  constructor(\n    private alertController: AlertController,\n  ) { }\n\n  ngAfterViewInit() {\n    this.settings.enableSymbologies([\n      Scandit.Symbology.EAN13UPCA,\n      Scandit.Symbology.EAN8,\n      Scandit.Symbology.UPCE,\n      Scandit.Symbology.QR,\n      Scandit.Symbology.DataMatrix,\n      Scandit.Symbology.Code39,\n      Scandit.Symbology.Code128,\n      Scandit.Symbology.InterleavedTwoOfFive,\n    ]);\n    this.settings.codeDuplicateFilter = 1000;\n    this.barcodeCapture.applySettings(this.settings);\n\n    this.barcodeCapture.addListener({\n      didScan: async (barcodeCapture, session) => {\n        const barcode = session.newlyRecognizedBarcodes[0];\n        const symbology = new Scandit.SymbologyDescription(barcode.symbology);\n\n        this.captureViewElement.nativeElement.style.zIndex = '-1';\n        this.barcodeCapture.isEnabled = false;\n\n        const alert = await this.alertController.create({\n          header: 'Scanned',\n          subHeader: `${symbology.readableName}: ${barcode.data}`,\n          message: `Symbol count: ${barcode.symbolCount}`,\n          buttons: [{ text: 'Ok' }]\n        });\n        alert.onDidDismiss().then(() => {\n          this.captureViewElement.nativeElement.style.zIndex = '1';\n          this.barcodeCapture.isEnabled = true;\n        });\n  \n        alert.present();\n      }\n    });\n\n    this.context.setFrameSource(this.camera);\n    this.camera.switchToDesiredState(Scandit.FrameSourceState.On);\n  }\n\n  ionViewDidEnter(): void {\n    this.captureView.connectToElement(this.captureViewElement.nativeElement);\n    this.isCaptureViewConnected = true;\n\n    this.barcodeCapture.isEnabled = true;\n  }\n\n  ionViewWillLeave(): void {\n    this.captureView.detachFromElement();\n    this.isCaptureViewConnected = false;\n\n    this.camera.switchToDesiredState(Scandit.FrameSourceState.Off);\n    this.barcodeCapture.isEnabled = false;\n  }\n\n  ngOnDestroy() {\n    this.context.dispose();\n  }\n}\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Full Screen</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div #captureView [ngClass]=\\\"{'connected': this.isCaptureViewConnected}\\\"></div>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}